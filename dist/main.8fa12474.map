{"version":3,"sources":["main.js"],"names":["links","JSON","parse","localStorage","getItem","hasMap","logo","logoType","url","$siteList","$","$last","find","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","splice","stopPropagation","prompt","indexOf","push","toUpperCase","onbeforeunload","str","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,QAAQC,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,IAAMC,SAASL,QAAQA,KAAR,GAAgB,CAC3B,EAACM,MAAM,GAAP,EAAYC,UAAU,MAAtB,EAA8BC,KAAK,sBAAnC,EAD2B,EAE3B,EAACF,MAAM,GAAP,EAAYC,UAAU,MAAtB,EAA8BC,KAAK,sBAAnC,EAF2B,CAA/B;;AAKA,IAAMC,YAAYC,EAAE,WAAF,CAAlB;AACA,IAAMC,QAAQF,UAAUG,IAAV,CAAe,SAAf,CAAd;AACA,SAASC,WAAT,CAAsBL,GAAtB,EAA2B;AACvB,WAAOA,IAAIM,OAAJ,CAAY,SAAZ,EAAuB,EAAvB,EACEA,OADF,CACU,UADV,EACqB,EADrB,EAEEA,OAFF,CAEU,MAFV,EAEkB,EAFlB,EAGEA,OAHF,CAGU,MAHV,EAGmB,EAHnB,CAAP;AAIH;AACD;AACA;AACA;AACA;AACA;AACA,IAAMC,SAAS,SAATA,MAAS,GAAM;;AAEjBN,cAAUG,IAAV,CAAe,eAAf,EAAgCI,MAAhC;AACAX,WAAOY,OAAP,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAMC,MAAMV,mWAUMQ,KAAKZ,IAVX,sGAaMO,YAAYK,KAAKV,GAAjB,CAbN,0FAmBVa,YAnBU,CAmBGV,KAnBH,CAAZ;AAoBAS,YAAIE,EAAJ,CACI,OADJ,EACa,YAAI;AACTC,mBAAOC,IAAP,CAAYN,KAAKV,GAAjB;AACH,SAHL;AAKAY,YAAIE,EAAJ,CACI,OADJ,EAEI,SAFJ,EAGI,UAACG,CAAD,EAAO;AACHpB,mBAAOqB,MAAP,CAAcP,KAAd,EAAqB,CAArB;AACAJ;AACAU,cAAEE,eAAF;AACH,SAPL;AASH,KAzDD;AA2DH,CA9DD;;AAiEAZ;AACAL,EAAE,YAAF,EACCY,EADD,CACI,OADJ,EACa,YAAM;AACf,QAAId,MAAMe,OAAOK,MAAP,CAAc,UAAd,CAAV;AACA,QAAGpB,IAAIqB,OAAJ,CAAY,MAAZ,MAAwB,CAAxB,IAA6BrB,IAAIqB,OAAJ,CAAY,OAAZ,MAAyB,CAAzD,EAA2D;AACvDrB,cAAM,aAAaA,GAAnB;AACH;AACDH,WAAOyB,IAAP,CAAY;AACRxB,cAAMO,YAAYL,GAAZ,EAAiB,CAAjB,EAAoBuB,WAApB,EADE;AAERxB,kBAAU,MAFF;AAGRC,aAAKA;AAHG,KAAZ;AAKAO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACH,CA3BD;;AA6BAQ,OAAOS,cAAP,GAAwB,YAAM;AAC1B,QAAMC,MAAMhC,KAAKiC,SAAL,CAAe7B,MAAf,CAAZ;AACAkB,WAAOpB,YAAP,CAAoBgC,OAApB,CAA4B,OAA5B,EAAqCF,GAArC;AACH,CAHD;;AAKAvB,EAAE0B,QAAF,EAAYd,EAAZ,CAAe,UAAf,EAA2B,UAACG,CAAD,EAAO;AAAA,QACvBY,GADuB,GAChBZ,CADgB,CACvBY,GADuB;;AAE9B,SAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIjC,OAAOkC,MAA1B,EAAkCD,GAAlC,EAAsC;AAClC,YAAGjC,OAAOiC,CAAP,EAAUhC,IAAV,CAAekC,WAAf,OAAiCH,IAAIG,WAAJ,EAApC,EAAsD;AAClDjB,mBAAOC,IAAP,CAAYnB,OAAOiC,CAAP,EAAU9B,GAAtB;AACA;AACH;AACJ;AACJ,CARD;AASAE,EAAE,SAAF,EAAaY,EAAb,CAAgB,UAAhB,EAA4B,UAACG,CAAD,EAAO;AAC/BA,MAAEE,eAAF;AACH,CAFD","file":"main.8fa12474.map","sourceRoot":"..\\src","sourcesContent":["const links = JSON.parse(localStorage.getItem(\"links\"));\r\nconst hasMap = links ? links : [\r\n    {logo: 'A', logoType: 'text', url: \"https://www.acfun.cn\"},\r\n    {logo: 'B', logoType: 'text', url: \"https://bilibili.com\"},\r\n]\r\n\r\nconst $siteList = $(\".siteList\");\r\nconst $last = $siteList.find(\"li.last\")\r\nfunction simplifyUrl (url) {\r\n    return url.replace(\"http://\", \"\")\r\n            .replace(\"https://\",\"\")\r\n            .replace(\"www.\", \"\")\r\n            .replace(/\\/.*/,  '')\r\n}\r\n// function removeLink (event,index) {\r\n//     hasMap.splice(index, 1);\r\n//     event.stopPropagation();\r\n//     console.log(event, index,)\r\n// }\r\nconst render = () => {\r\n    \r\n    $siteList.find(\"li:not(.last)\").remove();\r\n    hasMap.forEach( (node, index) =>{ \r\n        // const $li = $(\r\n        // `\r\n        // <li>\r\n        //     <a href=\"${node.url}\">\r\n        //         <div class=\"site\">\r\n        //             <div class=\"remove\">\r\n        //                 <svg class=\"icon\" aria-hidden=\"true\">\r\n        //                     <use xlink:href=\"#icon-delete\"></use>\r\n        //                 </svg>\r\n        //             </div>\r\n        //             <div class=\"logo\">\r\n        //                 ${node.logo}\r\n        //             </div>\r\n        //             <div class=\"link\">\r\n        //                 ${simplifyUrl(node.url)}\r\n        //             </div>\r\n        //         </div>\r\n        //     </a>\r\n    \r\n        // </li>\r\n        // `\r\n        // ).insertBefore($last);\r\n        const $li = $(\r\n        `\r\n        <li>\r\n                <div class=\"site\">\r\n                    <div class=\"remove\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-delete\"></use>\r\n                        </svg>\r\n                    </div>\r\n                    <div class=\"logo\">\r\n                        ${node.logo}\r\n                    </div>\r\n                    <div class=\"link\">\r\n                        ${simplifyUrl(node.url)}\r\n                    </div>\r\n                </div>\r\n    \r\n        </li>\r\n        `\r\n        ).insertBefore($last);\r\n        $li.on(\r\n            'click', ()=>{\r\n                window.open(node.url);\r\n            }\r\n        );\r\n        $li.on(\r\n            'click',\r\n            '.remove',\r\n            (e) => {\r\n                hasMap.splice(index, 1);\r\n                render();\r\n                e.stopPropagation()\r\n            }\r\n        )\r\n    });\r\n\r\n}\r\n\r\n\r\nrender()\r\n$(\".addButton\")\r\n.on(\"click\", () => {\r\n    let url = window.prompt(\"请输入新增网址：\");\r\n    if(url.indexOf('http') !== 0 || url.indexOf('https') !== 0){\r\n        url = \"https://\" + url;\r\n    }\r\n    hasMap.push({\r\n        logo: simplifyUrl(url)[0].toUpperCase(),\r\n        logoType: 'text',\r\n        url: url\r\n    })\r\n    render();\r\n    // const $site = $(\r\n    //     `\r\n    //     <li>\r\n    //         <a href=\"${url}\">\r\n    //             <div class=\"site\">\r\n    //                 <div class=\"logo\">\r\n    //                     ${url.split(\"//\")[1][0].toLocaleUpperCase()}\r\n    //                 </div>\r\n    //                 <div class=\"link\">${url}</div>\r\n    //             </div>\r\n    //         </a>\r\n\r\n    //     </li>\r\n    //     `\r\n    // ).insertBefore($last)\r\n})\r\n\r\nwindow.onbeforeunload = () => {\r\n    const str = JSON.stringify(hasMap);\r\n    window.localStorage.setItem(\"links\", str)\r\n}\r\n\r\n$(document).on(\"keypress\", (e) => {\r\n    const {key} = e;\r\n    for(let i = 0; i < hasMap.length; i++){\r\n        if(hasMap[i].logo.toLowerCase() === key.toLowerCase()){\r\n            window.open(hasMap[i].url);\r\n            break;\r\n        }\r\n    }\r\n})\r\n$(\".search\").on(\"keypress\", (e) => {\r\n    e.stopPropagation()\r\n})\r\n"]}